<ion-header>
  <ion-toolbar color="primary">
    <ion-title>TaxiCorao</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- TÃ­tulo -->
  <h2 style="text-align:center; font-weight:bold; margin-bottom:20px;">
    Â¿A dÃ³nde te llevamos hoy?
  </h2>

  <!-- Mapa -->
  <div id="map"></div>

  <!-- BotÃ³n pedir taxi -->
  <ion-button 
    expand="block" 
    color="success" 
    size="large"
    style="margin-bottom:25px;"
    (click)="pedirTaxi()">
    ğŸš– Pedir Taxi
  </ion-button>

<ion-card *ngIf="kmRestantes !== null">
  <ion-card-header>
    <ion-card-title>ğŸ“Š Detalles del viaje</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <p><strong>Distancia:</strong> {{ kmRestantes }} km</p>
    <p><strong>Tiempo estimado:</strong> {{ tiempoEstimado }} min</p>
    <p><strong>Precio estimado:</strong> {{ precioEstimado }} â‚¬</p>
  </ion-card-content>
</ion-card>


<!-- BUSCAR DIRECCIÃ“N DE DESTINO -->
<ion-card>
  <ion-card-header>
    <ion-card-title>ğŸ“ Â¿A dÃ³nde quieres ir?</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <ion-input
      placeholder="Escribe una direcciÃ³n..."
      [(ngModel)]="destinoEscrito">
    </ion-input>

    <ion-button
      expand="block"
      color="primary"
      style="margin-top: 10px;"
      (click)="buscarDestino()">
      Buscar destino
    </ion-button>
  </ion-card-content>
</ion-card>

<ion-card *ngIf="kmRestantes">
  <ion-card-header>
    <ion-card-title>ğŸ“ InformaciÃ³n del trayecto</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <p><strong>Distancia hasta ti:</strong> {{ kmRestantes }} km</p>
    <p><strong>Tiempo estimado:</strong> {{ tiempoEstimado }} min</p>
    <p><strong>Precio aproximado:</strong> {{ precioEstimado | number:'1.2-2' }} â‚¬</p>
  </ion-card-content>
</ion-card>

 <!-- Tarjeta ubicaciÃ³n -->
<ion-card>
  <ion-card-header>
    <ion-card-title>ğŸ“ Tu ubicaciÃ³n</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <p><strong>{{ currentLocation }}</strong></p>
  </ion-card-content>
</ion-card>


  <!-- BotÃ³n obtener ubicaciÃ³n -->
  <ion-button 
    expand="block" 
    color="warning" 
    style="margin-bottom:25px;" 
    (click)="getLocation()">
    Obtener ubicaciÃ³n
  </ion-button>

  <!-- Tarjeta informaciÃ³n del conductor -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>ğŸ‘¨â€âœˆï¸ Conductor asignado</ion-card-title>
      <ion-card-subtitle>TaxiCorao</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <p>Nombre: <strong>{{ taxista.nombre }}</strong></p>
      <p>Coche: <strong>{{ taxista.coche }}</strong></p>
      <p>MatrÃ­cula: <strong>{{ taxista.matricula }}</strong></p>
    </ion-card-content>
  </ion-card>

<ion-button expand="block" color="primary" (click)="iniciarViaje()">
  ğŸš• INICIAR VIAJE
</ion-button>

<div class="panel-info">
  <h3>ğŸš• Estado: {{ estadoViaje }}</h3>

  <p><strong>Distancia restante:</strong> {{ kmRestantes }} km</p>
  <p><strong>Tiempo estimado:</strong> {{ tiempoEstimado }} min</p>
  <p><strong>Precio estimado:</strong> {{ precioEstimado }} â‚¬</p>
</div>

  <!-- BotÃ³n ruta taxi -->
  <ion-button 
    expand="block" 
    color="primary" 
    style="margin-bottom:25px;" 
    (click)="pedirTaxi()">
    Ver ruta del taxi hacia ti
  </ion-button>

  <!-- BotÃ³n logout -->
  <ion-button 
    expand="block" 
    color="danger" 
    style="margin-top:30px;"
    (click)="logout()">
    Cerrar sesiÃ³n
  </ion-button>

</ion-content>
